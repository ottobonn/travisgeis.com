<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.8a856ac569de13b8b669.css" data-identity="gatsby-global-css">@font-face{font-family:Travis Print One;src:url(/static/TravisPrintOne-Regular-395b4112e8d8e4c008f2f27beb638a30.woff2) format("woff2")}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#d4d0ab}.token.punctuation{color:#fefefe}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ffa07a}.token.boolean,.token.number{color:#00e0e0}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#abe338}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#00e0e0}.token.atrule,.token.attr-value,.token.function{color:gold}.token.keyword{color:#00e0e0}.token.important,.token.regex{color:gold}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (-ms-high-contrast:active){code[class*=language-],pre[class*=language-]{background:window;color:windowText}:not(pre)>code[class*=language-],pre[class*=language-]{background:window}.token.important{background:highlight;color:window;font-weight:400}.token.atrule,.token.attr-value,.token.function,.token.keyword,.token.operator,.token.selector{font-weight:700}.token.attr-value,.token.comment,.token.doctype,.token.function,.token.keyword,.token.operator,.token.property,.token.string{color:highlight}.token.attr-value,.token.url{font-weight:400}}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}:root{--accent-color:#6a39ff;--code-font:"Anonymous Pro";--code-padding:2em;--code-size:75%;--font-name:"Spectral";--font-size:24px;--header-font:"Rubik",sans-serif;--link-underline:underline;--neutral-background-color:#f9f9f9;--title-box-offset:0.5rem;--title-top-margin:1rem;--link-color:var(--accent-color);--boxy-color:var(--accent-color);--wide-width:100%;--wide-margin-left:0}body{font-family:var(--font-name);font-size:var(--font-size)}h1,h2,h3,h4,h5,h6{font-family:var(--header-font);line-height:1.28571429em;margin:calc(2rem - .14286em) 0 1rem}h1:first-child,h2:first-child,h3:first-child,h4:first-child,h5:first-child,h6:first-child{margin-top:-.14285714em}h1:last-child,h2:last-child,h3:last-child,h4:last-child,h5:last-child,h6:last-child{margin-bottom:0}.boxy,.gatsby-resp-image-wrapper,p>img{background-color:#fff;border:2px solid #000;box-shadow:var(--title-box-offset) var(--title-box-offset) 0 var(--boxy-color)}.gatsby-resp-image-wrapper,p>img{margin-left:var(--wide-margin-left)!important;width:var(--wide-width)}.video-container{background-color:#fff;border:2px solid #000;box-shadow:var(--title-box-offset) var(--title-box-offset) 0 var(--boxy-color);height:0;margin-bottom:2rem;margin-top:2rem;padding-bottom:56.25%;position:relative;width:100%}.video-container iframe{height:100%;left:0;position:absolute;top:0;width:100%}stl-viewer{display:block;height:500px;width:100%}code{font-family:var(--code-font)!important}:not(pre)>code{background-color:#eee!important;border-radius:0!important;color:#000!important;padding:.2em!important}.gatsby-highlight{background-color:#fff;border:2px solid #000;box-shadow:var(--title-box-offset) var(--title-box-offset) 0 var(--boxy-color);margin:.5em 0;margin-left:var(--wide-margin-left);overflow:auto;width:var(--wide-width)}.gatsby-highlight pre[class*=language-]{border-radius:0;margin:0;overflow:hidden;padding:var(--code-padding)}.gatsby-highlight pre[class*=language-] code{display:block;overflow:auto}.gatsby-highlight pre[class*=language-].line-numbers{font-size:var(--code-size);padding-left:3em}.gatsby-highlight pre[class*=language-].line-numbers .line-numbers-rows{border-right:none;left:1em!important;opacity:.5;top:var(--code-padding)}</style><meta name="generator" content="Gatsby 3.15.0"/><title data-react-helmet="true">Starduino</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Spectral|Rubik|Anonymous+Pro" rel="stylesheet"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-196x196.png" sizes="196x196"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-96x96.png" sizes="96x96"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-128.png" sizes="128x128"/><meta data-react-helmet="true" name="application-name" content="travisgeis.com"/><meta data-react-helmet="true" name="msapplication-TileColor" content="#FFFFFF"/><meta data-react-helmet="true" name="msapplication-TileImage" content="/favicons/mstile-144x144.png"/><meta data-react-helmet="true" name="msapplication-square70x70logo" content="/favicons/mstile-70x70.png"/><meta data-react-helmet="true" name="msapplication-square150x150logo" content="/favicons/mstile-150x150.png"/><meta data-react-helmet="true" name="msapplication-wide310x150logo" content="/favicons/mstile-310x150.png"/><meta data-react-helmet="true" name="msapplication-square310x310logo" content="/favicons/mstile-310x310.png"/><script data-react-helmet="true" type="module" src="/stl-viewer/stl-viewer.js"></script><style data-styled="" data-styled-version="5.3.0">.cnoNVM{max-width:1024px;margin-left:auto;margin-right:auto;}/*!sc*/
data-styled.g4[id="Layout__Container-sc-1arw8t8-0"]{content:"cnoNVM,"}/*!sc*/
.goernf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
data-styled.g5[id="Menu__MenuContainer-zgpfzl-0"]{content:"goernf,"}/*!sc*/
.hRhFsN{-webkit-text-decoration:none;text-decoration:none;font-family:var(--header-font);-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;padding:0.5em;border-radius:0.25em;color:inherit;}/*!sc*/
.hRhFsN:hover{background-color:#eee;}/*!sc*/
data-styled.g6[id="Menu__MenuLink-zgpfzl-1"]{content:"hRhFsN,"}/*!sc*/
.jmvzGK{border:2px solid black;background-color:white;box-shadow:var(--title-box-offset) var(--title-box-offset) 0 var(--boxy-color);padding:1rem;margin-top:var(--title-top-margin);margin-bottom:2rem;}/*!sc*/
.jmvzGK a:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g7[id="Titles__TitleDiv-sc-5xl7gs-0"]{content:"jmvzGK,"}/*!sc*/
</style><link as="script" rel="preload" href="/webpack-runtime-d8157e8dded65c3ff337.js"/><link as="script" rel="preload" href="/framework-065c3db88fdd2b546387.js"/><link as="script" rel="preload" href="/app-8b28952f62241afbe9f6.js"/><link as="script" rel="preload" href="/component---src-pages-post-slug-tsx-d0a722fe664509218382.js"/><link as="fetch" rel="preload" href="/page-data/2010/06/03/starduino/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="Layout__Container-sc-1arw8t8-0 cnoNVM"><div class="page"><div id="content"><div id="menu" class="Menu__MenuContainer-zgpfzl-0 goernf menu"><a class="Menu__MenuLink-zgpfzl-1 hRhFsN item" href="/"><i class="icon home"></i>travisgeis.com</a><a class="Menu__MenuLink-zgpfzl-1 hRhFsN item" href="/contact"><i class="icon comments"></i>Contact</a></div><div id="titles" class="Titles__TitleDiv-sc-5xl7gs-0 jmvzGK"><h1>Starduino</h1><h3>3 June 2010</h3></div><i>About a <!-- -->10<!-- -->-minute read</i><p><em>Please Note: I’m still writing this page. You may find it useful as-is, but
much more in the way of pictures and the final steps is coming.</em></p><p>The Starduino is my first big Arduino project. It’s an LED lamp based on an
Indian paper star lantern. I personally think it came out very nicely, and I
hope to allow others to enjoy it as much as I did by sharing a how-to on this
site.</p><h2>The Materials</h2><p>This project doesn’t require too much. The main thing, of course, is an Arduino
for the heart of the thing. To keep the cost down and avoid being wasteful, I
decided to use an Arduino clone called the RBBB (Really Bare Bones Board) from <a href="http://www.moderndevice.com/products/rbbb-kit" title="The RBBB at moderndevice">moderndevice</a>.
This board is eventually embedded in the star lantern, so I had to be okay with
saying goodbye to the lucky Arduino that gets to power it. In addition, the
project calls for:</p><ul><li><p>LEDs</p></li><li><p>Soft White (or your color of choice) LED x50 (2 of <a href="http://www.amazon.com/5mm-Clear-White-13000-Pack/dp/B003GDT2DE/ref=sr_1_1?ie=UTF8&amp;s=electronics&amp;qid=1275620575&amp;sr=8-1" title="25 Pack Soft White LED">these at Amazon</a>)</p></li><li><p>Wires</p></li><li><p>Hookup Wire AWG 30 (<a href="http://www.radioshack.com/product/index.jsp?productId=2062641" title="Buy White Hookup Wire 30 AWG">Radioshack</a>)</p></li><li><p>Hookup Wire AWG 22 (<a href="http://www.radioshack.com/product/index.jsp?productId=2049745" title="Buy Hookup Wire 22 AWG">Radioshack</a>)</p></li><li><p>Alarm Wire 30 ft. (9 m) - Four-conductor, AWG 22 per strand or bigger (like: <a href="http://www.lowes.com/pd_31690-295-64170422_4294821899_4294937087?productId=3128631&amp;pl=1&amp;currentURL=/pl_Low%2BVoltage%2BWire_4294821899_4294937087_" title="Shop for Wire at Lowe">Lowe’s</a>)</p></li><li><p>Integrated Circuits (ICs)</p></li><li><p>Adjustable Voltage Regulator (LM317 or compatible with heatsink) x1 (<a href="http://www.radioshack.com/product/index.jsp?productId=2062601" title="LM317 at Radioshack">Radioshack</a>)</p></li><li><p>Resistors</p></li><li><p>0.25 Watt: 220Ω x1 (<a href="http://www.radioshack.com/product/index.jsp?productId=2062304" title="Assorted resistors from Radioshack">Radioshack</a>)</p></li><li><p>Capacitors</p></li><li><p>1-10 µF (your choice) x1 (<a href="http://www.radioshack.com/product/index.jsp?productId=2102509&amp;filterName=Type&amp;filterValue=Electrolytic+capacitors" title="Capacitor from Radioshack">Radioshack</a>)</p></li><li><p>0.1 µF x1 (<a href="http://www.radioshack.com/product/index.jsp?productId=2102589" title="Capacitor from Radioshack">Radioshack</a>)</p></li><li><p>Potentiometers</p></li><li><p>Trimmer Potentiometer 5+ kΩ x1 (<a href="http://www.radioshack.com/product/index.jsp?productId=2062308" title="Trimmer at Radioshack">Radioshack</a>)</p></li><li><p>Rotary Potentiometer 10 kΩ x1 (<a href="http://www.radioshack.com/product/index.jsp?productId=2062357" title="10K Rotary Potentiometer at Radioshack">Radioshack</a>)</p></li><li><p>Switches</p></li><li><p>Switch 1.0A or greater x1 (<a href="http://www.radioshack.com/product/index.jsp?productId=2062523&amp;filterName=Type&amp;filterValue=SPST" title="Switch from Radioshack">Radioshack</a>)</p></li><li><p>Power Supplies</p></li><li><p>AC-DC Wall Adapter 7.5V or greater, 1A or greater (<a href="http://www.radioshack.com/product/index.jsp?productId=3875403&amp;filterValue=$15.00+-+$19.99&amp;filterName=Price" title="AC-DC adapter at Radioshack">Radioshack</a>)</p></li><li><p>Transistors</p></li><li><p>NPN Transistor 0.6W or greater (3V × 0.2A) x5 (<a href="http://www.radioshack.com/product/index.jsp?productId=2062586" title="NPN Assorted Transistors at Radioshack">Radioshack</a>)</p></li><li><p>Microcontrollers</p></li><li><p><a href="http://www.arduino.cc/" title="Arduino Home">Arduino</a> or compatible clone (I used the <a href="http://www.moderndevice.com/products/rbbb-kit" title="The RBBB from moderndevice">RBBB</a>) x1</p></li><li><p>Circuit Boards</p></li><li><p>Breadboard/Perfboard/PCB x1 (Custom Starduino PCB in the works!) (<a href="http://www.radioshack.com/product/index.jsp?productId=2734155&amp;filterName=Type&amp;filterValue=Breadboards" title="Solderless Breadboard at Radioshack">Solderless</a> or <a href="http://www.radioshack.com/product/index.jsp?productId=2102845&amp;filterValue=under+$3.99&amp;filterName=Price" title="Solderable Perfboard at Radioshack">Perf</a>)</p></li><li><p>Tools &amp; Craft Items</p></li><li><p>Standard clear drinking straw x10 (Your local café or restaurant)</p></li><li><p>Hot glue gun &amp; glue (<a href="http://www.amazon.com/Darice-10759-6-Inch-Temp-Glue/dp/B002JPKV08/ref=pd_sbs_t_1" title="A hot glue gun at Amazon">Amazon</a>)</p></li><li><p>Plastic project box or similar to house the AC adapter &amp; Switch/Pot (<a href="http://www.radioshack.com/product/index.jsp?productId=2062281" title="Project Box at Radioshack">Radioshack</a>)</p></li><li><p>Paper Star (I used white) x1 (<a href="http://www.indiasilver.com/wholesale-star-lanterns-lamps.aspx" title="Shop for a paper star lantern">Whirled Planet Wholesale</a>)</p></li></ul><p>And some <em>optional</em> pieces:</p><ul><li>5-pin Male header (<a href="http://www.sparkfun.com/commerce/product_info.php?products_id=116" title="Male Headers from Sparkfun">Sparkfun</a>)</li><li>5-pin Female header (<a href="http://www.sparkfun.com/commerce/product_info.php?products_id=115" title="Female Headers from Sparkfun">Sparkfun</a>)</li><li>FTDI USB-to-Serial Converter (If your Arduino of choice has no USB port like the RBBB) (<a href="http://www.sparkfun.com/commerce/product_info.php?products_id=9115" title="FTDI Basic Breakout Board from Sparkfun">Sparkfun</a>)</li></ul><h3>Some Key Notes on Materials</h3><p>You can expect to pay the most on LEDs, the paper star, and the Arduino. These
three things also happen to be the most central to your Starduino’s success.
Make sure your LEDs are <strong>3.3V</strong>-compatible and <strong>20mA</strong> or fewer! Though humble
by themselves, together these LEDs drink a significant amount of juice. Using 5V
or higher-current LEDs will overheat your LM317, your power supply, and/or your
Arduino. This can be a <strong>fire hazard</strong>, so please check the ratings on all parts
to ensure they correspond to those listed here.</p><p>The other critical piece is the AC-DC “wall wart.” While a generic, basic one
will do, if you have some extra room in your budget a quality power supply is a
good investment. Any “wiggle” in the supplied voltage will show up as flickering
in the LEDs when dimmed down low, so keep this in mind while choosing a supply.
Also, a quick safety note: Starduino needs <strong>1 Ampere</strong> and <strong>at least 7.5V</strong> or
greater to run safely and as-intended. <em>Check the current rating, as a brick
rated under 1A could start a fire when the star lights up!</em></p><h2>Begin the Build!</h2><p>Have all those materials? Good! Now it’s time to begin the build. Here’s a brief
overview of he whole process:</p><ol><li><strong>Construct the RBBB kit</strong></li><li><strong>Construct the LED tubes</strong></li><li><strong>Mount the LED tubes</strong></li><li><strong>Build the brains</strong></li><li><strong>Construct the switch/power box (the life-source!)</strong></li><li><strong>Mix it all together!</strong></li></ol><h3>1: The Arduino</h3><p>Arduino is the brain behind the star’s awesome light patterns. By programming
it, you can control your Starduino’s brightness, the order it lights concentric
rings of light, and the speed of the undulations. So, it is fitting to start
construction here. If you ordered an RBBB Kit like I did, you can find excellent
documentation <a href="http://www.moderndevice.com/products/rbbb-kit" title="The RBBB Kit Page">on its page</a>.
Alternatively, the same page offers a fully-assembled, tested RBBB for a bit
more money.</p><p>When you’ve completed the construction (or finished that <em>challenging</em>
unwrapping of your pre-built product :)), test your Arduino! Plug it in, make
sure the LEDs blink, and try uploading a simple sketch. If you’ve never seen an
Arduino before, or need a refresher, check out the
<a href="http://arduino.cc/en/Guide/HomePage" title="Getting Started with Arduino">official documentation</a>
for help.</p><h3>2: The Tubes</h3><p>The “tubes” will serve as the basic building block within the Starduino. Each
one houses five (5) LEDs, with each of their inputs and one common ground wire.
I used standard clear drinking straws to hold the strips of LEDs, which worked
well and proved extremely cheap (actually free, as I found the straws in various
cafeterias and cafés).</p><p>The complicating factor with this setup is that the LEDs are wired together in
groups of ten (10). However, these group members are not physically located near
one another. Instead, the LEDs are wired together in concentric rings, so that
the star can create a cool radial “jellyfish” motion with its lights. This means
that the LEDs in each straw each need discreet wires, and to keep the star
pretty these wires shouldn’t cross through the center of each point (this also
makes installation much easier).</p><p>So, knowing that we will end up with a large tangle of cables, we can journey
into the build!</p><h4>Cutting the Straws</h4><p>Unwrap all the straws. Using scissors, make a straight cut all the way down the
back of each straw length-wise. This will allow us to hold the straws open to
run the wires inside.</p><h4>Marking the Straws</h4><p>Now, measure 2 cm from one end, and begin measuring here. Using a permanent
marker make a dot every 4 cm until you’ve made five (5) dots. Also, mark the end
of the straw from which you measured. (This means the first dot will be 2 + 4 =
6 cm from the end.) Once you’ve marked all the straws, move on.</p><h4>Poking Holes</h4><p>Now, using a small sharp tool (I used an open safety pin), poke one hole at each
mark, on the opposite side of the straw from the slit. Then, going back over the
straw, poke another hole beside each one, approximately 5 mm away. These two
holes will hold the LED leads, so it’s a good idea to check that an LED fits in
one of your hole-pairs every once in a while. The secondary holes should all be
on the same side of their mark, so that the LEDs are evenly spaced.</p><h4>Placing the Lights</h4><p>Place five LEDs in each straw. It’s helpful to keep all the polarities the same
direction, so I recommend placing the positive (longer) lead through the hold
with the marker mark, and the shorter lead through the other hole. The leads
will stick out through the slit in the back of the straw. Leave them unbent for
now.</p><h4>Wiring the Lights</h4><p>Time to hook up all the wires! This part can be a bit tricky. You will need to
cut the following lengths of wire:</p><ul><li>30 AWG, 50 cm x 10</li><li>30 AWG, 46 cm x 10</li><li>30 AWG, 42 cm x 10</li><li>30 AWG, 38 cm x 10</li><li>30 AWG, 34 cm x 10</li><li>22 AWG, 50 cm x 10</li></ul><p>Strip at both ends of every 30 AWG strand.</p><p>For each 22 AWG strand: Strip one end like normal. On the other end, strip a
longer amount, like 5 cm. Then, working back from this longer free end, strip
every 3 cm, sliding the insulation down the wire such that each bare patch is
about the same length. This creates a ground-wire rail for all the LEDs,
insulated from the other wiring.</p><p>Now, note the end of the straw you marked earlier. This will be the closest to
the center of the star. Take one of the ground wires, and twist the negative
(shorter!) lead of each LED around the bare patches on the wire. Tuck the
twisted bits up into the straw so they’re out of the way.</p><p>Working from the marked end out, wire the shortest wire to the first LED, the
next-shortest to the next LED, and so on, so that the longest wire is twisted
around the positive lead of the final LED. Tuck all of these wires into the
straw, so that six (6) wires now spill out of the marked end, and the slit falls
closed. Tape the end of the straw and all the wires together to protect the
wires from being pulled out.</p><p>Using the marker, somehow mark the numerical code of each positive wire: “1” for
the closest (shortest) wire, “2” for the second, and so on, using “5” for the
longest positive wire. These numbers will be important later. I used dots on the
wires corresponding to the number code, though any similar system works fine.</p><p>Repeat for each straw, and then set these light modules aside.</p><h2>3: Mounting the Tubes</h2><h4>Open the Star</h4><p>The first step here is opening up your star. Gently work the points apart, and
help guide the creases as the star unfolds. Go slow to avoid tearing and bending
the points. When you’ve opened it all the way, tie the string at the top with a
removable bow so that the star doesn’t fall closed. Now gently crease the top
and bottom of each point, so that you create a nice cradle on the inside. Once
you’ve broken the star in a bit, you can untie the string and close the star.</p><h4>Glue in the Tubes</h4><p>Heat up the hot glue gun, and gather your light tubes. When the glue is hot, run
a generous helping down the slit end of one straw, and place the straw, wires
out, in the valley of one of the star points as shown. Make sure it’s thoroughly
stuck, then do the same for all the straws.</p><h4>Gather the Wires</h4><p>This bit can prove somewhat tedious. The goal is to bundle all the ground wires,
all the “1” wires, all the “2” wires, etc., into groups of ten (10), such that
you end up with five (5) groups of positive leads and one (1) group of
negatives. Gather all the wires for a group, and twist the ends together
consistently. Be careful with the 30-gauge wire, as it is easy to break the
stripped ends (fingers work better than pliers here). Take a short bit of
stripped 22-gauge and twist it around the bunch, so that it extends out the end
as a single “plug.”</p><p>If you opted to buy the headers or have some around, attach this single larger
plug wire to one of the male header pins as shown. If you don’t have the pins,
leave the wire exposed.</p><h3>4: Build the Brains</h3><p>This is the fun part. The circuit driving the Starduino is fairly simple. It’s
centered around a slightly modified RBBB, with some of the pins removed for
simplicity. So, begin the build with the RBBB:</p><h4>The Arduino</h4><p>The RBBB will only need one analog-in pin. It will also need five (5) PWM pins
for driving the concentric rings of LEDs. The unregulated voltage-in, ground,
and 5V-out also need pins. So, in all, assemble the RBBB with nine (9) pins:</p><ol><li>PWM pin #3</li><li>PWM pin #5</li><li>PWM pin #6</li><li>PWM pin #9</li><li>PWM pin #10</li><li>+V</li><li>GND</li><li>Analog in #5</li><li>5V out (near analog)</li></ol><p>You can snip off the back end of the board with the power jack (as I did) to
save space, though this is optional.</p><h4>The PCB</h4><p>The first Starduino I made used point-to-point wire wrapping for connections,
all anchored on a perforated breadboard. This was quick to assemble and
relatively easy, though I decided a PCB would really dress up the end result. I
designed the thing in Fritzing, and printed it on a laser printer. Then etching
the board is a matter of ironing the toner onto the copper PCB and putting the
whole thing in a copper etchant. See details below:</p><ol><li>Print the pattern</li><li><a href="http://zenlogic.org/wp-content/uploads/2010/06/starduino-etch.png" title="Starduino PCB">The PCB traces for Starduino</a></li></ol><h3>5: The Switch Box</h3><p>Now, to create a tidy switch box, you’ll need to cut your project box. Because
power bricks, potentiometers, and switches can all vary in size, you should
check measurements with your own equipment before you cut anything.</p><p>I tried to keep my switch box as basic and easy-to-construct as possible. The
power adapter is inside, with the prongs sticking through a rectangular cutout
in the back. The switch and potentiometer both mount in standard drilled holes.
In addition, drill a hole for the 4-core wire somewhere discreet in the box.
Before mounting the pieces though, some wiring is in order.</p><p>First cut the cord of the power brick about 5” (~10 cm) from the device. Cut the
insulation holding the two stands together, and strip a generous amount off the
wire tips. Peel the wires apart so you have room to work. You may want to twist
the stands together if you have a stranded cord. Now attach the black strand of
alarm wire to the power source ground. Check with a voltmeter to make sure you
know the polarity. Run the positive power wire through the switch, then to the
red alarm strand. Attach the yellow wire to the right-hand potentiometer lead
(when viewed from the knob side, with contacts on top). Attach the green wire to
the middle (wiper) lead.</p><p>Run the rest of the alarm wire through the hole you drilled, and make a
retaining knot to keep it from being yanked out. Make a seal of hot glue to
finish it nicely. Glue the power supply to the plate with the hole in it. Fasten
down the switch and the potentiometer, and screw the whole assembly together.
Power supply, check!</p><h3>6: Mix it All Together!</h3><p>Almost done! Somehow connect the alarm wire to the breadboard (I tied mine to a
hole). This will hold the weight of the star, so make it nice and tight!</p><p>Wire the red alarm wire to the power in on your breadboard, the black to ground,
the yellow to the Arduino’s +5V pin, and the green to analog in. The code looks
on analog pin #3 by default, though you can change this in the list of variables
at the top.</p><p>Now plug the LED wire bundles into their corresponding ports. (See “4: Build The
Brains” for details). Attach the common ground as well. Plug your creation into
the wall, and power it up! It should light up, and change when you turn the
potentiometer. If something’s dark or suddenly smells funny, unplug and check
your wiring and solder joints. If all went well, you’re the proud new parent of
your very own Starduino!</p><h2>The Code</h2><p>Still need that source code? The first version is available
below. It’s governed by a
<a href="http://creativecommons.org/licenses/by-sa/2.5/" title="The License at Creative Commons">CC Attribution Share-Alike license</a>,
so feel free to use and modify it however you see fit (so long as you attribute
the original to my name, and share your creation freely as well).</p><p>Below is the current source code for the Starduino project! I hope someone out
there will find it as fun as I do. It was tested and deployed with Arduino 0018,
though will likely work on most (if not all) previous releases. Enjoy!</p><p><a href="http://creativecommons.org/licenses/by-sa/3.0/us/"><img src="http://i.creativecommons.org/l/by-sa/3.0/us/88x31.png" alt="Creative Commons License"/></a></p><span>Starduino</span> by Travis Geis is licensed under a [Creative Commons Attribution-Share Alike 3.0 United States License](http://creativecommons.org/licenses/by-sa/3.0/us/).<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset:linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token comment">/*
Starduino by Travis Geis

for Emily Rolen
with love...

Version 1
Wednesday 2 June 2010
*/</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> ONEPIN <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> TWOPIN <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> THREEPIN <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> FOURPIN <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> FIVEPIN <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> POTPIN <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> currentOne<span class="token punctuation">,</span> currentTwo<span class="token punctuation">,</span> currentThree<span class="token punctuation">,</span> currentFour<span class="token punctuation">,</span> currentFive <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//On a scale of 256 (direct output values, NOT percentages!)</span>
<span class="token keyword">int</span> maxBrightness<span class="token punctuation">,</span> minBrightness<span class="token punctuation">,</span> brightnessOffset<span class="token punctuation">;</span>
<span class="token keyword">double</span> spacing<span class="token punctuation">,</span> potValue<span class="token punctuation">,</span> crossover<span class="token punctuation">,</span> lowerBuffer<span class="token punctuation">,</span> upperBuffer<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> sampleNumber <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> potSamples<span class="token punctuation">[</span>sampleNumber<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> currentIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//init pot sample array</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sampleNumber<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    potSamples<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  spacing <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span> <span class="token comment">//radians on a sinusoid</span>
  maxBrightness <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">//percent</span>
  minBrightness <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//percent</span>
  brightnessOffset <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">//percent</span>
  crossover <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token comment">//percent</span>
  lowerBuffer <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//use these buffers if the lower percentage of each half-pot is flaky</span>
  upperBuffer <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//measures in percent</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>ONEPIN<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>TWOPIN<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>THREEPIN<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>FOURPIN<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>FIVEPIN<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">double</span> time<span class="token punctuation">;</span> <span class="token comment">//looping counter for wave function</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>time <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token operator">*</span>PI<span class="token punctuation">)</span><span class="token punctuation">{</span>
    time <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  potValue <span class="token operator">=</span> <span class="token function">readPotPercent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Percent</span>
  <span class="token comment">//Serial.println(potValue);</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>potValue <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">+</span> lowerBuffer <span class="token operator">&amp;&amp;</span> potValue <span class="token operator">&lt;</span> crossover<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">double</span> brightness <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> potValue <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> crossover <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token function">showLightPercentage</span><span class="token punctuation">(</span>brightness<span class="token punctuation">,</span> brightness<span class="token punctuation">,</span> brightness<span class="token punctuation">,</span> brightness<span class="token punctuation">,</span> brightness<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>potValue <span class="token operator">&gt;=</span> crossover <span class="token operator">+</span> upperBuffer <span class="token operator">&amp;&amp;</span> potValue <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    maxBrightness <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>potValue <span class="token operator">-</span> crossover<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">-</span> crossover<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100.0</span><span class="token punctuation">;</span>
    <span class="token comment">//CONSTANT FOR NOW //minBrightness = max(0, maxBrightness - brightnessOffset); //whichever&#x27;s bigger: 0 or the subtraction</span>
    <span class="token function">showLightPercentage</span><span class="token punctuation">(</span><span class="token function">wave</span><span class="token punctuation">(</span>time <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> spacing<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">wave</span><span class="token punctuation">(</span>time <span class="token operator">+</span> spacing<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">wave</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">wave</span><span class="token punctuation">(</span>time <span class="token operator">-</span> spacing<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">wave</span><span class="token punctuation">(</span>time <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> spacing<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token function">showLightPercentage</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  time <span class="token operator">+=</span> <span class="token number">0.005</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">wave</span><span class="token punctuation">(</span><span class="token keyword">double</span> time<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//returns a percentage</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>maxBrightness <span class="token operator">-</span> minBrightness<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span> <span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">+</span> minBrightness<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">showLight</span><span class="token punctuation">(</span><span class="token keyword">int</span> one<span class="token punctuation">,</span> <span class="token keyword">int</span> two<span class="token punctuation">,</span> <span class="token keyword">int</span> three<span class="token punctuation">,</span> <span class="token keyword">int</span> four<span class="token punctuation">,</span> <span class="token keyword">int</span> five<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">analogWrite</span><span class="token punctuation">(</span>ONEPIN<span class="token punctuation">,</span> one<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">analogWrite</span><span class="token punctuation">(</span>TWOPIN<span class="token punctuation">,</span> two<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">analogWrite</span><span class="token punctuation">(</span>THREEPIN<span class="token punctuation">,</span> three<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">analogWrite</span><span class="token punctuation">(</span>FOURPIN<span class="token punctuation">,</span> four<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">analogWrite</span><span class="token punctuation">(</span>FIVEPIN<span class="token punctuation">,</span> five<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">showLightPercentage</span><span class="token punctuation">(</span><span class="token keyword">double</span> one<span class="token punctuation">,</span> <span class="token keyword">double</span> two<span class="token punctuation">,</span> <span class="token keyword">double</span> three<span class="token punctuation">,</span> <span class="token keyword">double</span> four<span class="token punctuation">,</span> <span class="token keyword">double</span> five<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">showLight</span><span class="token punctuation">(</span>one <span class="token operator">*</span> <span class="token number">2.55</span><span class="token punctuation">,</span> two <span class="token operator">*</span> <span class="token number">2.55</span><span class="token punctuation">,</span> three <span class="token operator">*</span> <span class="token number">2.55</span><span class="token punctuation">,</span> four <span class="token operator">*</span> <span class="token number">2.55</span><span class="token punctuation">,</span> five <span class="token operator">*</span> <span class="token number">2.55</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">readPot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//this method is smoothed and so experiences a slight lag behind actual values</span>
  <span class="token comment">//but is much more stable</span>
  total <span class="token operator">-=</span> potSamples<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//subract the oldest entry</span>
  potSamples<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>POTPIN<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//read the pot and log it in the array</span>
  total <span class="token operator">+=</span> potSamples<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//add the newest</span>
  currentIndex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//move the index forward one</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>currentIndex <span class="token operator">&gt;=</span> sampleNumber<span class="token punctuation">)</span> <span class="token comment">//wrap around if needed</span>
    currentIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> total <span class="token operator">/</span> sampleNumber<span class="token punctuation">;</span> <span class="token comment">//preserve decimals until after division</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">readPotPercent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">readPot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.23</span><span class="token punctuation">;</span> <span class="token comment">//(dividing by 1023 quanta of resolution and multiplying by 100 percent)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><h2>Comments</h2><div id="cusdis_thread" data-host="https://travisgeis-cusdis.vercel.app" data-page-id="2010/06/03/starduino/" data-app-id="bfc86e4c-f4e1-4135-8790-cf52804a5850" data-page-title="Starduino" data-page-url="https://travisgeis.com/2010/06/03/starduino"></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2010/06/03/starduino/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-8b28952f62241afbe9f6.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-933a06e9dadf888491cb.js"],"component---src-pages-page-slug-tsx":["/component---src-pages-page-slug-tsx-6a9c919aefa8eb61bff6.js"],"component---src-pages-post-slug-tsx":["/component---src-pages-post-slug-tsx-d0a722fe664509218382.js"],"component---src-pages-project-slug-tsx":["/component---src-pages-project-slug-tsx-0058ca5e225b60a2429a.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-be59b2f1846831e4e707.js"]};/*]]>*/</script><script src="/component---src-pages-post-slug-tsx-d0a722fe664509218382.js" async=""></script><script src="/app-8b28952f62241afbe9f6.js" async=""></script><script src="/framework-065c3db88fdd2b546387.js" async=""></script><script src="/webpack-runtime-d8157e8dded65c3ff337.js" async=""></script></body></html>