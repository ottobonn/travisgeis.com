<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.8a856ac569de13b8b669.css" data-identity="gatsby-global-css">@font-face{font-family:Travis Print One;src:url(/static/TravisPrintOne-Regular-395b4112e8d8e4c008f2f27beb638a30.woff2) format("woff2")}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#d4d0ab}.token.punctuation{color:#fefefe}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ffa07a}.token.boolean,.token.number{color:#00e0e0}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#abe338}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#00e0e0}.token.atrule,.token.attr-value,.token.function{color:gold}.token.keyword{color:#00e0e0}.token.important,.token.regex{color:gold}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (-ms-high-contrast:active){code[class*=language-],pre[class*=language-]{background:window;color:windowText}:not(pre)>code[class*=language-],pre[class*=language-]{background:window}.token.important{background:highlight;color:window;font-weight:400}.token.atrule,.token.attr-value,.token.function,.token.keyword,.token.operator,.token.selector{font-weight:700}.token.attr-value,.token.comment,.token.doctype,.token.function,.token.keyword,.token.operator,.token.property,.token.string{color:highlight}.token.attr-value,.token.url{font-weight:400}}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}:root{--accent-color:#6a39ff;--code-font:"Anonymous Pro";--code-padding:2em;--code-size:75%;--font-name:"Spectral";--font-size:24px;--header-font:"Rubik",sans-serif;--link-underline:underline;--neutral-background-color:#f9f9f9;--title-box-offset:0.5rem;--title-top-margin:1rem;--link-color:var(--accent-color);--boxy-color:var(--accent-color);--wide-width:100%;--wide-margin-left:0}body{font-family:var(--font-name);font-size:var(--font-size)}h1,h2,h3,h4,h5,h6{font-family:var(--header-font);line-height:1.28571429em;margin:calc(2rem - .14286em) 0 1rem}h1:first-child,h2:first-child,h3:first-child,h4:first-child,h5:first-child,h6:first-child{margin-top:-.14285714em}h1:last-child,h2:last-child,h3:last-child,h4:last-child,h5:last-child,h6:last-child{margin-bottom:0}.boxy,.gatsby-resp-image-wrapper,p>img{background-color:#fff;border:2px solid #000;box-shadow:var(--title-box-offset) var(--title-box-offset) 0 var(--boxy-color)}.gatsby-resp-image-wrapper,p>img{margin-left:var(--wide-margin-left)!important;width:var(--wide-width)}.video-container{background-color:#fff;border:2px solid #000;box-shadow:var(--title-box-offset) var(--title-box-offset) 0 var(--boxy-color);height:0;margin-bottom:2rem;margin-top:2rem;padding-bottom:56.25%;position:relative;width:100%}.video-container iframe{height:100%;left:0;position:absolute;top:0;width:100%}stl-viewer{display:block;height:500px;width:100%}code{font-family:var(--code-font)!important}:not(pre)>code{background-color:#eee!important;border-radius:0!important;color:#000!important;padding:.2em!important}.gatsby-highlight{background-color:#fff;border:2px solid #000;box-shadow:var(--title-box-offset) var(--title-box-offset) 0 var(--boxy-color);margin:.5em 0;margin-left:var(--wide-margin-left);overflow:auto;width:var(--wide-width)}.gatsby-highlight pre[class*=language-]{border-radius:0;margin:0;overflow:hidden;padding:var(--code-padding)}.gatsby-highlight pre[class*=language-] code{display:block;overflow:auto}.gatsby-highlight pre[class*=language-].line-numbers{font-size:var(--code-size);padding-left:3em}.gatsby-highlight pre[class*=language-].line-numbers .line-numbers-rows{border-right:none;left:1em!important;opacity:.5;top:var(--code-padding)}</style><meta name="generator" content="Gatsby 3.15.0"/><title data-react-helmet="true">Tracking Microfluidic Droplets in ImageJ</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Spectral|Rubik|Anonymous+Pro" rel="stylesheet"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png"/><link data-react-helmet="true" rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-196x196.png" sizes="196x196"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-96x96.png" sizes="96x96"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16"/><link data-react-helmet="true" rel="icon" type="image/png" href="/favicons/favicon-128.png" sizes="128x128"/><meta data-react-helmet="true" name="application-name" content="travisgeis.com"/><meta data-react-helmet="true" name="msapplication-TileColor" content="#FFFFFF"/><meta data-react-helmet="true" name="msapplication-TileImage" content="/favicons/mstile-144x144.png"/><meta data-react-helmet="true" name="msapplication-square70x70logo" content="/favicons/mstile-70x70.png"/><meta data-react-helmet="true" name="msapplication-square150x150logo" content="/favicons/mstile-150x150.png"/><meta data-react-helmet="true" name="msapplication-wide310x150logo" content="/favicons/mstile-310x150.png"/><meta data-react-helmet="true" name="msapplication-square310x310logo" content="/favicons/mstile-310x310.png"/><script data-react-helmet="true" type="module" src="/stl-viewer/stl-viewer.js"></script><style data-styled="" data-styled-version="5.3.0">.cnoNVM{max-width:1024px;margin-left:auto;margin-right:auto;}/*!sc*/
data-styled.g4[id="Layout__Container-sc-1arw8t8-0"]{content:"cnoNVM,"}/*!sc*/
.goernf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
data-styled.g5[id="Menu__MenuContainer-zgpfzl-0"]{content:"goernf,"}/*!sc*/
.hRhFsN{-webkit-text-decoration:none;text-decoration:none;font-family:var(--header-font);-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;padding:0.5em;border-radius:0.25em;color:inherit;}/*!sc*/
.hRhFsN:hover{background-color:#eee;}/*!sc*/
data-styled.g6[id="Menu__MenuLink-zgpfzl-1"]{content:"hRhFsN,"}/*!sc*/
.jmvzGK{border:2px solid black;background-color:white;box-shadow:var(--title-box-offset) var(--title-box-offset) 0 var(--boxy-color);padding:1rem;margin-top:var(--title-top-margin);margin-bottom:2rem;}/*!sc*/
.jmvzGK a:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g7[id="Titles__TitleDiv-sc-5xl7gs-0"]{content:"jmvzGK,"}/*!sc*/
</style><link as="script" rel="preload" href="/webpack-runtime-d8157e8dded65c3ff337.js"/><link as="script" rel="preload" href="/framework-065c3db88fdd2b546387.js"/><link as="script" rel="preload" href="/app-8b28952f62241afbe9f6.js"/><link as="script" rel="preload" href="/component---src-pages-post-slug-tsx-d0a722fe664509218382.js"/><link as="fetch" rel="preload" href="/page-data/2013/08/02/tracking-microfluidic-droplets-in-imagej/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="Layout__Container-sc-1arw8t8-0 cnoNVM"><div class="page"><div id="content"><div id="menu" class="Menu__MenuContainer-zgpfzl-0 goernf menu"><a class="Menu__MenuLink-zgpfzl-1 hRhFsN item" href="/"><i class="icon home"></i>travisgeis.com</a><a class="Menu__MenuLink-zgpfzl-1 hRhFsN item" href="/contact"><i class="icon comments"></i>Contact</a></div><div id="titles" class="Titles__TitleDiv-sc-5xl7gs-0 jmvzGK"><h1>Tracking Microfluidic Droplets in ImageJ</h1><h3>2 August 2013</h3></div><i>About a <!-- -->2<!-- -->-minute read</i><p>I am researching microfluidic droplets this summer. We run aqueous fluid through
a flow-focusing region in a micro-channel, which causes little drops to shear
off and flow through the chip. We observe the drops with an inverted microscope
and the high-speed Andor Zyla camera.</p><p>I am developing
<a href="https://github.com/ottobonn/DropletTracker" title="DropletTracker on GitHub">a plugin for ImageJ</a>
to track the droplets. We want to see their shape, velocity, orientation, area,
and other geometric properties, but it takes a long time to track them by hand
(and it’s silly, when we have computers).</p><p>The problem is that these droplets are hard to track. They have a similar
brightness to the background, their borders aren’t always well-defined, and they
move quickly relative to the speed of the camera. So I am brainstorming new ways
to isolate the droplets from the background.</p><p>Right now, the tracker relies on various steps of removing noise, subtracting
static background pixels, and binarizing the image to convert the droplets to
black binary blobs on a white binary background. The tracker itself just
observes these binary blobs, so the important work happens before the tracker is
even involved. The way in which we convert these noisy, grainy images of
real-world droplets into representative binary form directly affects the quality
of the tracking results.</p><p>I have some thoughts on how to do better. Right now, I am treating each still
frame in the stack as independent from the others. The filters are stateless, in
that they work the same on each frame regardless of what frames came before or
after in the stack (in time).</p><p>But the droplets are moving, so I should be able to use that crucial bit of
detail to massively improve the tracker. When I, a human, see the following
image (a photo of a droplet in a channel), I can guess where the droplet is. I
expect something oval-shaped, somewhere in the center of attention. But if I
look at the image without any bias, I really don’t know whether that droplet is
part of the background or not.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:70px">
      <a class="gatsby-resp-image-link" href="/static/748ac2c65f9a9254e2fb81ad6d5eaf88/1aade/BackgroundOrForeground.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:642.8571428571429%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,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&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Background Or Foreground?" title="Background Or Foreground?" src="/static/748ac2c65f9a9254e2fb81ad6d5eaf88/1aade/BackgroundOrForeground.png" srcSet="/static/748ac2c65f9a9254e2fb81ad6d5eaf88/1aade/BackgroundOrForeground.png 70w" sizes="(max-width: 70px) 100vw, 70px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p>I am biased, in that I look for simple geometry. It’s what my vision is trained
to do well. However, as soon as I see the next frame in the stack, it’s obvious
what I can ignore as the background.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:221px">
      <a class="gatsby-resp-image-link" href="/static/8cf09ae083496c98614c935da7d7c1af/cccdc/TwoShots.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:202.71493212669682%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,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&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Two Shots" title="Two Shots" src="/static/8cf09ae083496c98614c935da7d7c1af/cccdc/TwoShots.png" srcSet="/static/8cf09ae083496c98614c935da7d7c1af/cccdc/TwoShots.png 221w" sizes="(max-width: 221px) 100vw, 221px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p>The droplet in the center moved down a bit, but everything else stayed still. I
can easily isolate it from the background with my eye, especially when it’s
moving. So maybe I can get the tracker to do the same.</p><p>Using a subtraction, I can find the literal difference between the later and
earlier frames shown above. This yields a “heat map” of everything that moves in
the images.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:463px">
      <a class="gatsby-resp-image-link" href="/static/b97dcb9c0c0dba9704787675e91559c2/71ce0/Subtraction.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:108.66666666666667%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEj0lEQVQ4y23Sa0xTZxjA8WfODYmLM/tgmFm2hKBx7kapZaCiQzOGYCMzm2Oh5VIJHNpyGzIBlekcHSBRK1JEXaADNVphIEJR8fLB6WZ0BZ0dCi2oG5dCL+ecnkt7Lu9SkBkX3++/PP/nyQvKtREpSQmfyeXypM+3JH+5Kf7TxOXha1ZFxsaujVm9OiZmTfSqqI1SSfySZbKPIzbEr0tMiNuYGJewIW5VtAxOGhtNP9WeOlLZYqgwNTc0GAwlmVnGZmPj4arj+r3Guh8bG4/WlJQqZNHNLc319YaqqkqdTldfbzh16gQ4SL/Qk4d+CBZ189GvZbaRsZN1tTzvF46vQNUh4sEQNHH9akePKjIaJ4iiou1z5gQBzMUwrd/PwhMnybaksFkg7AG+F7MOjJxraiC8OLvzTV8+8BXA2Tt7TJ1Y1MoppzMrC4Ppp1CkURQBox6WNabyhYAqQbyo/euB/UxtBc3SbOlicTeIlSAMmy+1d6ujVuIePBtTz2ClMoP30TCGs0xTKlcQwMIlzYOHtlZ9Ke1jmJLFwnczuPtie7c6MpLAn2GFMkPw0zBGMPTxdJ8a0D7gr2iGhuwXjuygfLS38C1+F4j7QHjcfamjSy2Tkp4XYdKQQWcC2g/8dY3NNnytqYJiKTznHa4MxAMgjAawRhb+f8wFMO3RbyWVgA4Cf0trtz3ubaqmWO+UKtRXDKgOBIe5t6NLveJDwu3JxjTPME/DOOmdqsZcX72E6kC0aK0D9prvt/s472jyu8y2Oego8FPmy+1d6oj3CJc7G9POXlsl8Aw4KMpRqXbIg9ExQNZcy72h8p0lHO8d2RxOFcxFRuBd5qvtXeoVy/EAxgCCprFS4DmY8Hod+zR/r1+EmgANavrvD++vruB44tEXUlf6G6gNeI/56i9dmGyZx+XKxvIBQgBeVigzZzDpqM4dT1qAGgBZNXetwweqdX4/MbJFhmvmoxPAu81X2s5vlS71uFwYlju781aB8wfwZI12fPPryBDA/X8OV1Xs4fzEo2QZkReMfg5kX249nyFdMo01/30SjmXBQXon9TljSQvFw4AGtH337Ht37wpkK6R4zmuoBQS3ufdsZ5okbBprZ7GKYWiYICmqLnNCvlA4AMiaY7lnK99RKvDkZHq4W7UAGUFwdV8wdSaHh3rcz7KVygyWocHDEqacQ3bFInQF0GTJH5ah8rJtBO0/GZXC6l4Rb4LIXDt3piNBEjaN1c9NJnx4S+aR+4q30Q1AjvI7lsEd3xaSjO/g+xitD0J9gNgbbac71r0Qj3sZ1pDqTAwSawANqO/0DxZ/U8DztDs9jMiYhxoBubtaTZ3rI8Jw93M7B7LHSdqpV03KX0WHAT3Mu933sKggl+Ppf5RLvVnz0AlAeE+rqTNWEuZ2TWE5T3FqqoqmaZig/NShr71yQDpAVrXlrq0wX8txrFMZwqaBaAhMNp05F/NRGE1T2dlPs1NS0kRRBPuTcUebzqn/ZHJ/LG6tv3XTsiu/0OdjyWMpTEMc1RQvMv1nT7dFfxB6+/ffSkvLJBKpRCItKiru7+/7F2Q37chn8qWyAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Subtraction" title="Subtraction" src="/static/b97dcb9c0c0dba9704787675e91559c2/71ce0/Subtraction.png" srcSet="/static/b97dcb9c0c0dba9704787675e91559c2/5a46d/Subtraction.png 300w,/static/b97dcb9c0c0dba9704787675e91559c2/71ce0/Subtraction.png 463w" sizes="(max-width: 463px) 100vw, 463px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p>The blue area represents the moving front edge of the drop. Unfortunately, it
isn’t round, and it doesn’t look like a drop, because the subtraction removed
everything except the change.</p><p>When a droplet moved between frames, most of it (by area) will seem to stay
still. Only the front and rear edges will change. So this subtraction can’t be
the full solution, but maybe I can use it as a place to look for drops.</p><p>Interestingly, I can do the same on the binary version of the image.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:447px">
      <a class="gatsby-resp-image-link" href="/static/8024621a7f83e709da8b179193fc4468/a2d48/BinaryXOR.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:111.99999999999999%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD80lEQVQ4y22U608jVRjG53/gK9cKCUH/El3jfthVXNiuVGO8fDQhLgSIrC633oSNNy6Ftogmxgi0210jYZVVCWBL6UA7XdLQDMyUtkzneubM9ZiZKRs2+n6cnN88z/ucZwabng5OfxkIBvx+v3d6ZsY7PjQ68N7w8Mjw0MDdT/sH7vb3D46GRl5dHXll6N5kwD85PvaF3zc1Pjkx8snHGABAVVWEEDJNE6HTwtHu5s8AqqqiQgihDAQFHayNJr+9zsno9Wuvdb3c1dXVFUv8epL6A6tWqwAAwxpd0w3iMLUZ/0ECsq5ppmmahiZraGt5+LeJaxUWtjQ3YvbMh5ZyyadYrVaTJMk+ZxgmIo4ym49XJduO80LZQH+FRzemrtck7SVXmwNHo9G9f3YwlmVrtZqu65qqmggV8MxOYp3leQCAruuGrikIPZm7Fx98g4N6a0uzA4cjkXRq14JZloUQAgAQQkQm83s8ztmwKIq6riOEvglOjH7UDaDa3NT0/7AkSYZh4ngmkYjxvADsgRAihLx+X8+ddxRFabqEv19ZqcPlclkURZ7nTRPhmYPHidjFBcOyLMMwqqLoCIUfTAx+2CNBpa21tb7z8gpxsINxHEeSpCiKgiAgZMGPErFKpVqpVDiO03UNIbQ0MzbwwdtXbc8tRhnib4zn+dPTUxzHndvG8czD+LogiARBnJycmMhECE15J2+7eyGEnZ2dDQ0NGIYtLC1XczZM03QymbQ7gg4teE0CIJ/P0zTtPPwqMPm+p0cCckdHh7P2Qni5lNu2bFMUdXx87Jy7VBZIkry4uDDsuH+a9I673YKitDRfXlU4epjesZRLpVI2m0X21JUlUCwWy+Vy/aq8Y5/1dgNFbW9vd+BIJLKf2rOUGYbJZrNXbcuyfHZ2RlGUA/um7nvcNxRFbWtru1SOHKRtmOf5fD7/XDkeW1VUtVwukyRpGBYc8N7v670BFdXl+g9M0/T29rYD43gmFluFEGaz2UKhgOy0Ldh9Eypqy5V67jslKZVK6XTatOcIzzyKrQE77WKxiOxdAr6xPveb8EpJIpFoKrlrBUaSJI7jCCHNMJ4d4lsPY6IkHeL4+fm5E0TAO+Zx34RQeSGwpG27Wq3mcjlbGD3L4Vsb6zJUCIKgadrZJeAb99x5C0LF5XI93xlPJzGGYSiKKpVK1gdomEfZg43NGMfxFEXZhbWU/f4Jj+fWC2lHIkR6H1NVlWU5WZYdh8ViYfNJgmFq1WpVVVVN0+pw3y0IYWNj/U+yEAplU2lsdvbrUGg2Eg0tLn4XDs/7fJ//svojhIogCKIoWiUz0YPA1LvubtNE83NzwWDQ7/PlCGLv6Z//AtBLt1cvGFpaAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Binary XOR" title="Binary XOR" src="/static/8024621a7f83e709da8b179193fc4468/a2d48/BinaryXOR.png" srcSet="/static/8024621a7f83e709da8b179193fc4468/5a46d/BinaryXOR.png 300w,/static/8024621a7f83e709da8b179193fc4468/a2d48/BinaryXOR.png 447w" sizes="(max-width: 447px) 100vw, 447px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p>The two left images above are the messy, thresholded representation of two of
the original images (not exactly the ones above, by similar). I can make out the
droplet in the center, but so much mess surrounds it that the tracker gets
confused.</p><p>The image on the right is the result of XORing the two left images. Where one
has a dark pixel, and the other doesn’t, the XOR is illuminated. This yields a
robust hot spot where the drop is moving, and it also creates some noise from
the blinking background pixels (an artifact of the thresholding).</p><p>It isn’t directly trackable, but I hope I can work it in to my system soon.</p><h2>Comments</h2><div id="cusdis_thread" data-host="https://travisgeis-cusdis.vercel.app" data-page-id="2013/08/02/tracking-microfluidic-droplets-in-imagej/" data-app-id="bfc86e4c-f4e1-4135-8790-cf52804a5850" data-page-title="Tracking Microfluidic Droplets in ImageJ" data-page-url="https://travisgeis.com/2013/08/02/tracking-microfluidic-droplets-in-imagej"></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2013/08/02/tracking-microfluidic-droplets-in-imagej/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-8b28952f62241afbe9f6.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-933a06e9dadf888491cb.js"],"component---src-pages-page-slug-tsx":["/component---src-pages-page-slug-tsx-6a9c919aefa8eb61bff6.js"],"component---src-pages-post-slug-tsx":["/component---src-pages-post-slug-tsx-d0a722fe664509218382.js"],"component---src-pages-project-slug-tsx":["/component---src-pages-project-slug-tsx-0058ca5e225b60a2429a.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-be59b2f1846831e4e707.js"]};/*]]>*/</script><script src="/component---src-pages-post-slug-tsx-d0a722fe664509218382.js" async=""></script><script src="/app-8b28952f62241afbe9f6.js" async=""></script><script src="/framework-065c3db88fdd2b546387.js" async=""></script><script src="/webpack-runtime-d8157e8dded65c3ff337.js" async=""></script></body></html>